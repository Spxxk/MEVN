{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"section\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"title\"\n}, \"Location\")], -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"map\",\n  style: {\n    \"height\": \"500px\",\n    \"width\": \"90%\",\n    \"margin\": \"5%\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_4 = [_hoisted_2, _hoisted_3];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [..._hoisted_4]);\n}","map":{"version":3,"names":["class","_createElementVNode","id","style","_hoisted_2","_hoisted_3","_createElementBlock","_hoisted_1","_hoisted_4"],"sources":["C:\\Users\\owenc\\OneDrive\\Desktop\\owen\\frontend\\src\\views\\EventDetailView.vue"],"sourcesContent":["<template>\r\n    <div class=\"home\">\r\n        <div class=\"section\">\r\n            <h1 class=\"title\">Location</h1>\r\n        </div>\r\n        <div id=\"map\" style=\"height: 500px; width: 90%; margin: 5%\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nconst API_URL = 'http://localhost:3000';\r\n\r\n\r\nexport default {\r\n    name: 'EventDetailView',\r\n    data() {\r\n        return { lat: 43.6532, lng: -79.3832 }\r\n    },\r\n    async mounted() {\r\n        try {\r\n            const response = await axios.get(`${API_URL}/event/${this.$route.params.game}/`, {\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            });\r\n            console.log(\"response:\", response);\r\n            this.lat = response.data[0][\"latitude\"];\r\n            this.lng = response.data[0][\"longitude\"];\r\n            if (!window.google) {\r\n                console.log(\"loding map\");\r\n                this.loadMap();\r\n            } else {\r\n                // console.log(\"jh test: \", response.data[0], lat);\r\n                console.log(\"init maps\");\r\n                this.initMap();\r\n            }\r\n            \r\n\r\n        } catch (error) {\r\n            console.error('Error fetching games:', error);\r\n        }\r\n    },\r\n    methods: {\r\n        loadMap() {\r\n            window.initMap = this.initMap.bind(this);\r\n            const script = document.createElement('script');\r\n            script.src = `https://maps.googleapis.com/maps/api/js?key=AIzaSyC1J8rbjY3B-Y-dzoWU7jl6hAW4jAh-yRk&callback=initMap`;\r\n            script.async = true;\r\n            script.defer = true; // Add defer attribute for better script loading\r\n            document.head.appendChild(script);\r\n        },\r\n        initMap() {\r\n            let lati = this.lat;\r\n            let lngi = this.lng;\r\n            if (window.google) {\r\n                console.log(\"lati: \", lati);\r\n                console.log(\"lngi: \", lngi);\r\n                this.map = new window.google.maps.Map(document.getElementById('map'), {\r\n                    center: { lat: lati, lng: lngi }, // Toronto coordinates\r\n                    zoom: 14,\r\n                });\r\n\r\n                // Create a marker and set its position\r\n                this.marker = new window.google.maps.Marker({\r\n                    position: { lat: lati, lng: lngi }, // Toronto coordinates\r\n                    map: this.map,\r\n                    title: 'Toronto', // Optional title for the marker\r\n                });\r\n            } else {\r\n                console.error('Google Maps API failed to load.');\r\n            }\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style></style>\r\n"],"mappings":";;EACSA,KAAK,EAAC;AAAM;gCACbC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAS,I,aAChBC,mBAAA,CAA+B;EAA3BD,KAAK,EAAC;AAAO,GAAC,UAAQ,E;gCAE9BC,mBAAA,CAAkE;EAA7DC,EAAE,EAAC,KAAK;EAACC,KAA6C,EAA7C;IAAA;IAAA;IAAA;EAAA;;oBAHdC,UAEM,EACNC,UAAkE,C;;uBAJtEC,mBAAA,CAKM,OALNC,UAKM,EANV,IAAAC,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}