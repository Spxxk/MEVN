{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6361631d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"section\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"title\"\n}, \"Leagues List\")], -1 /* HOISTED */));\nconst _hoisted_2 = {\n  class: \"card\",\n  style: {\n    \"margin\": \"20px\",\n    \"margin-top\": \"0px\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"table\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"has-background-danger\"\n}, \"League\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"has-background-danger\"\n}, \"Session\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"has-background-danger\"\n}, \"Sport\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"has-background-danger\"\n}, \"Division\", -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"has-background-danger\"\n}, \"Age\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  key: 0,\n  class: \"has-background-danger\"\n};\nconst _hoisted_10 = [\"href\"];\nconst _hoisted_11 = {\n  key: 0\n};\nconst _hoisted_12 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"table\", _hoisted_3, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_4, _hoisted_5, _hoisted_6, _hoisted_7, _hoisted_8, this.$store.state.user.isLoggedIn ? (_openBlock(), _createElementBlock(\"th\", _hoisted_9)) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.leagues, (league, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"a\", {\n      href: '/league_detail/' + league.name\n    }, _toDisplayString(league.name), 9 /* TEXT, PROPS */, _hoisted_10)]), _createElementVNode(\"td\", null, _toDisplayString(league.session), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(league.sport), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(league.division), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(league.age), 1 /* TEXT */), this.$store.state.user.isLoggedIn ? (_openBlock(), _createElementBlock(\"td\", _hoisted_11, [_createElementVNode(\"button\", {\n      onClick: $event => $options.deleteLeague(league.name),\n      class: \"button is-danger\"\n    }, \"Delete\", 8 /* PROPS */, _hoisted_12)])) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]);\n}","map":{"version":3,"names":["_createElementVNode","class","style","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","$store","state","user","isLoggedIn","_hoisted_9","_createCommentVNode","_Fragment","_renderList","$data","leagues","league","index","href","name","_hoisted_10","_toDisplayString","session","sport","division","age","_hoisted_11","onClick","$event","$options","deleteLeague","_hoisted_12"],"sources":["C:\\Users\\owenc\\OneDrive\\Desktop\\owen\\frontend\\src\\components\\LeagueList.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"section\">\r\n            <h1 class=\"title\">Leagues List</h1>\r\n        </div>\r\n        <div class=\"card\" style=\"margin: 20px; margin-top: 0px\">\r\n            <table class=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"has-background-danger\">League</th>\r\n                        <th class=\"has-background-danger\">Session</th>\r\n                        <th class=\"has-background-danger\">Sport</th>\r\n                        <th class=\"has-background-danger\">Division</th>\r\n                        <th class=\"has-background-danger\">Age</th>\r\n                        <th class=\"has-background-danger\" v-if=\"this.$store.state.user.isLoggedIn\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(league, index) in leagues\" :key=\"index\">\r\n                        <td><a :href=\"'/league_detail/' + league.name\">{{ league.name }}</a></td>\r\n                        <td>{{ league.session }}</td>\r\n                        <td>{{ league.sport }}</td>\r\n                        <td>{{ league.division }}</td>\r\n                        <td>{{ league.age }}</td>\r\n                        <td v-if=\"this.$store.state.user.isLoggedIn\"><button @click=\"deleteLeague(league.name)\" class=\"button is-danger\">Delete</button></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nconst API_URL = 'http://localhost:3000';\r\n\r\nexport default {\r\n    name: 'LeaguesList',\r\n    data() {\r\n        return {\r\n            leagues: []\r\n        };\r\n    },\r\n    async created() {\r\n        try {\r\n            const response = await axios.get(`${API_URL}/league/all/`, {\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            });\r\n            console.log(response.data);\r\n            this.leagues = response.data;\r\n        } catch (error) {\r\n            console.error('Error fetching leagues:', error);\r\n        }\r\n    },\r\n    methods: {\r\n        formatDate(dateString) {\r\n            const date = new Date(dateString);\r\n            return date.toDateString();\r\n        },\r\n        async deleteLeague(league) {\r\n            console.log(league);\r\n            let urll = `${API_URL}/league/${league}/`;\r\n            console.log(urll);\r\n            try {\r\n                const response = await axios.delete(urll);\r\n                console.log(response);\r\n            } catch (error) {\r\n                console.error('Error fetching games:', error);\r\n            }\r\n            location.reload();\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ntable {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n\r\nth,\r\ntd {\r\n    border: 1px solid #ddd;\r\n    padding: 8px;\r\n    text-align: left;\r\n}\r\n\r\nth {\r\n    background-color: #f2f2f2;\r\n}\r\n\r\na {\r\n  color: #0000ee;\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n}\r\n</style>"],"mappings":";;gEAEQA,mBAAA,CAEM;EAFDC,KAAK,EAAC;AAAS,I,aAChBD,mBAAA,CAAmC;EAA/BC,KAAK,EAAC;AAAO,GAAC,cAAY,E;;EAE7BA,KAAK,EAAC,MAAM;EAACC,KAAqC,EAArC;IAAA;IAAA;EAAA;;;EACPD,KAAK,EAAC;AAAO;gEAGRD,mBAAA,CAA6C;EAAzCC,KAAK,EAAC;AAAuB,GAAC,QAAM;gEACxCD,mBAAA,CAA8C;EAA1CC,KAAK,EAAC;AAAuB,GAAC,SAAO;gEACzCD,mBAAA,CAA4C;EAAxCC,KAAK,EAAC;AAAuB,GAAC,OAAK;gEACvCD,mBAAA,CAA+C;EAA3CC,KAAK,EAAC;AAAuB,GAAC,UAAQ;gEAC1CD,mBAAA,CAA0C;EAAtCC,KAAK,EAAC;AAAuB,GAAC,KAAG;;EAb7DE,GAAA;EAc4BF,KAAK,EAAC;;oBAdlC;;EAAAE,GAAA;AAAA;oBAAA;;uBACIC,mBAAA,CA4BM,cA3BFC,UAEM,EACNL,mBAAA,CAuBM,OAvBNM,UAuBM,GAtBFN,mBAAA,CAqBQ,SArBRO,UAqBQ,GApBJP,mBAAA,CASQ,gBARJA,mBAAA,CAOK,aANDQ,UAA6C,EAC7CC,UAA8C,EAC9CC,UAA4C,EAC5CC,UAA+C,EAC/CC,UAA0C,E,KACGC,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,UAAU,I,cAAzEZ,mBAAA,CAAgF,MAAhFa,UAAgF,KAdxGC,mBAAA,e,KAiBgBlB,mBAAA,CASQ,iB,kBARJI,mBAAA,CAOKe,SAAA,QAzBzBC,WAAA,CAkBkDC,KAAA,CAAAC,OAAO,EAlBzD,CAkBgCC,MAAM,EAAEC,KAAK;yBAAzBpB,mBAAA,CAOK;MAPmCD,GAAG,EAAEqB;IAAK,IAC9CxB,mBAAA,CAAyE,aAArEA,mBAAA,CAAgE;MAA5DyB,IAAI,sBAAsBF,MAAM,CAACG;wBAASH,MAAM,CAACG,IAAI,wBAnBrFC,WAAA,E,GAoBwB3B,mBAAA,CAA6B,YAAA4B,gBAAA,CAAtBL,MAAM,CAACM,OAAO,kBACrB7B,mBAAA,CAA2B,YAAA4B,gBAAA,CAApBL,MAAM,CAACO,KAAK,kBACnB9B,mBAAA,CAA8B,YAAA4B,gBAAA,CAAvBL,MAAM,CAACQ,QAAQ,kBACtB/B,mBAAA,CAAyB,YAAA4B,gBAAA,CAAlBL,MAAM,CAACS,GAAG,kB,KACFnB,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,UAAU,I,cAA3CZ,mBAAA,CAAqI,MAxB7J6B,WAAA,GAwBqEjC,mBAAA,CAAmF;MAA1EkC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY,CAACd,MAAM,CAACG,IAAI;MAAGzB,KAAK,EAAC;OAAmB,QAAM,iBAxB/IqC,WAAA,E,KAAApB,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}