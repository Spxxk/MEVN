{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:3000';\nexport default {\n  name: 'LeaguesList',\n  data() {\n    return {\n      leagues: []\n    };\n  },\n  async created() {\n    try {\n      const response = await axios.get(`${API_URL}/league/all/`, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      });\n      console.log(response.data);\n      this.leagues = response.data;\n    } catch (error) {\n      console.error('Error fetching leagues:', error);\n    }\n  },\n  methods: {\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return date.toDateString();\n    },\n    async deleteLeague(league) {\n      console.log(league);\n      let urll = `${API_URL}/league/${league}/`;\n      console.log(urll);\n      try {\n        const response = await axios.delete(urll);\n        console.log(response);\n      } catch (error) {\n        console.error('Error fetching games:', error);\n      }\n      location.reload();\n    }\n  }\n};","map":{"version":3,"names":["axios","API_URL","name","data","leagues","created","response","get","headers","console","log","error","methods","formatDate","dateString","date","Date","toDateString","deleteLeague","league","urll","delete","location","reload"],"sources":["C:\\Users\\owenc\\OneDrive\\Desktop\\owen\\frontend\\src\\components\\LeagueList.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"section\">\r\n            <h1 class=\"title\">Leagues List</h1>\r\n        </div>\r\n        <div class=\"card\" style=\"margin: 20px; margin-top: 0px\">\r\n            <table class=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"has-background-danger\">League</th>\r\n                        <th class=\"has-background-danger\">Session</th>\r\n                        <th class=\"has-background-danger\">Sport</th>\r\n                        <th class=\"has-background-danger\">Division</th>\r\n                        <th class=\"has-background-danger\">Age</th>\r\n                        <th class=\"has-background-danger\" v-if=\"this.$store.state.user.isLoggedIn\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(league, index) in leagues\" :key=\"index\">\r\n                        <td><a :href=\"'/league_detail/' + league.name\">{{ league.name }}</a></td>\r\n                        <td>{{ league.session }}</td>\r\n                        <td>{{ league.sport }}</td>\r\n                        <td>{{ league.division }}</td>\r\n                        <td>{{ league.age }}</td>\r\n                        <td v-if=\"this.$store.state.user.isLoggedIn\"><button @click=\"deleteLeague(league.name)\" class=\"button is-danger\">Delete</button></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nconst API_URL = 'http://localhost:3000';\r\n\r\nexport default {\r\n    name: 'LeaguesList',\r\n    data() {\r\n        return {\r\n            leagues: []\r\n        };\r\n    },\r\n    async created() {\r\n        try {\r\n            const response = await axios.get(`${API_URL}/league/all/`, {\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            });\r\n            console.log(response.data);\r\n            this.leagues = response.data;\r\n        } catch (error) {\r\n            console.error('Error fetching leagues:', error);\r\n        }\r\n    },\r\n    methods: {\r\n        formatDate(dateString) {\r\n            const date = new Date(dateString);\r\n            return date.toDateString();\r\n        },\r\n        async deleteLeague(league) {\r\n            console.log(league);\r\n            let urll = `${API_URL}/league/${league}/`;\r\n            console.log(urll);\r\n            try {\r\n                const response = await axios.delete(urll);\r\n                console.log(response);\r\n            } catch (error) {\r\n                console.error('Error fetching games:', error);\r\n            }\r\n            location.reload();\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ntable {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n\r\nth,\r\ntd {\r\n    border: 1px solid #ddd;\r\n    padding: 8px;\r\n    text-align: left;\r\n}\r\n\r\nth {\r\n    background-color: #f2f2f2;\r\n}\r\n\r\na {\r\n  color: #0000ee;\r\n  cursor: pointer;\r\n}\r\n</style>"],"mappings":"AAiCA,OAAOA,KAAI,MAAO,OAAO;AACzB,MAAMC,OAAM,GAAI,uBAAuB;AAEvC,eAAe;EACXC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,OAAO,EAAE;IACb,CAAC;EACL,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACZ,IAAI;MACA,MAAMC,QAAO,GAAI,MAAMN,KAAK,CAACO,GAAG,CAAE,GAAEN,OAAQ,cAAa,EAAE;QACvDO,OAAO,EAAE;UACL,cAAc,EAAE;QACpB;MACJ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACH,IAAI,CAAC;MAC1B,IAAI,CAACC,OAAM,GAAIE,QAAQ,CAACH,IAAI;IAChC,EAAE,OAAOQ,KAAK,EAAE;MACZF,OAAO,CAACE,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACnD;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,UAAUA,CAACC,UAAU,EAAE;MACnB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU,CAAC;MACjC,OAAOC,IAAI,CAACE,YAAY,CAAC,CAAC;IAC9B,CAAC;IACD,MAAMC,YAAYA,CAACC,MAAM,EAAE;MACvBV,OAAO,CAACC,GAAG,CAACS,MAAM,CAAC;MACnB,IAAIC,IAAG,GAAK,GAAEnB,OAAQ,WAAUkB,MAAO,GAAE;MACzCV,OAAO,CAACC,GAAG,CAACU,IAAI,CAAC;MACjB,IAAI;QACA,MAAMd,QAAO,GAAI,MAAMN,KAAK,CAACqB,MAAM,CAACD,IAAI,CAAC;QACzCX,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;MACzB,EAAE,OAAOK,KAAK,EAAE;QACZF,OAAO,CAACE,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MACjD;MACAW,QAAQ,CAACC,MAAM,CAAC,CAAC;IACrB;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}